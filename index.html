<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>é—®é“é•¿ç”Ÿ - ä»™ä¾ æ”¾ç½®</title>
    <link rel="stylesheet" href="css/mobile.css?v=4">
    <style>
        .btn:active { transform: scale(0.95); }
    </style>
</head>
<body>
    <div class="game-wrap">
        <header class="header">
            <h1>é—®é“é•¿ç”Ÿ</h1>
            <div class="info-row">
                <div class="info-item realm">
                    <div class="label">å¢ƒç•Œ</div>
                    <div class="value"><span id="realm-name">ç»ƒæ°”</span> <span id="realm-level">(1å±‚)</span></div>
                </div>
                <div class="info-item spirit">
                    <div class="label">çµæ°”</div>
                    <div class="value"><span id="spirit-amount">0</span> <small>(<span id="spirit-rate">0</span>/s)</small></div>
                </div>
            </div>
        </header>

        <nav class="nav">
            <button class="nav-btn active" data-tab="cultivation" onclick="switchTab('cultivation')">ä¿®ç‚¼</button>
            <button class="nav-btn" data-tab="techniques" onclick="switchTab('techniques')">åŠŸæ³•</button>
            <button class="nav-btn" data-tab="artifacts" onclick="switchTab('artifacts')">æ³•å®</button>
            <button class="nav-btn" data-tab="pets" onclick="switchTab('pets')">çµå® </button>
            <button class="nav-btn" data-tab="sect" onclick="switchTab('sect')">å®—é—¨</button>
            <button class="nav-btn" data-tab="boss" onclick="switchTab('boss')">BOSS</button>
            <button class="nav-btn" data-tab="shop" onclick="switchTab('shop')">å•†åº—</button>
        </nav>

        <main class="content">
            <section id="cultivation-panel" class="panel active">
                <h2>ğŸ§˜ ä¿®ç‚¼</h2>
                <div class="roots-section">
                    <h3>ğŸŒŸ çµæ ¹</h3>
                    <div id="roots-display" class="roots-grid"></div>
                </div>
                <div class="progress-section">
                    <h3>ğŸ“ˆ ä¿®ç‚¼è¿›åº¦</h3>
                    <div class="progress-bar"><div id="cultivation-progress-bar" class="progress-fill"></div></div>
                    <p><span id="current-cultivation">0</span> / <span id="required-cultivation">100</span></p>
                </div>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="doCultivate()">ğŸ§˜ ä¿®ç‚¼</button>
                    <button class="btn btn-warning" onclick="doBreakthrough()">âš¡ çªç ´</button>
                </div>
                <div class="upgrade-section">
                    <h3>â¬†ï¸ å‡çº§</h3>
                    <div class="upgrade-item">
                        <span class="name">çµæ ¹ç­‰çº§ Lv.<span id="root-level">1</span></span>
                        <button class="btn btn-primary" onclick="doUpgradeRoot()">å‡çº§</button>
                    </div>
                    <div class="upgrade-item">
                        <span class="name">ä¿®ç‚¼æ•ˆç‡ Lv.<span id="efficiency-level">1</span></span>
                        <button class="btn btn-primary" onclick="doUpgradeEfficiency()">å‡çº§</button>
                    </div>
                </div>
            </section>

            <section id="techniques-panel" class="panel">
                <h2>ğŸ“š åŠŸæ³•</h2>
                <div id="techniques-list" class="tech-grid"></div>
            </section>

            <section id="artifacts-panel" class="panel">
                <h2>âš”ï¸ æ³•å®</h2>
                <div class="artifact-slots">
                    <div class="artifact-slot"><span class="label">æ­¦å™¨</span><span class="name" id="slot-weapon">æœªè£…å¤‡</span></div>
                    <div class="artifact-slot"><span class="label">é˜²å…·</span><span class="name" id="slot-armor">æœªè£…å¤‡</span></div>
                    <div class="artifact-slot"><span class="label">é¥°å“</span><span class="name" id="slot-accessory">æœªè£…å¤‡</span></div>
                </div>
                <button class="btn btn-primary" style="margin-bottom:15px;width:100%;" onclick="doCraft()">ğŸ”¨ ç‚¼åˆ¶æ³•å®</button>
                <div id="artifacts-inventory" class="tech-grid"></div>
            </section>

            <section id="pets-panel" class="panel">
                <h2>ğŸ² çµå® </h2>
                <div class="pet-card">
                    <div class="pet-icon" id="pet-icon">ğŸ¥š</div>
                    <div class="pet-name" id="pet-name">æš‚æ— çµå® </div>
                    <div class="pet-level" id="pet-level">ç­‰çº§: 0</div>
                </div>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="doCatchPet()">ğŸ¯ æ•æ‰</button>
                    <button class="btn btn-warning" onclick="doTrainPet()">ğŸ’ª åŸ¹å…»</button>
                </div>
            </section>

            <section id="sect-panel" class="panel">
                <h2>ğŸ›ï¸ å®—é—¨</h2>
                <div class="sect-info">
                    <p>å®—é—¨: <span id="sect-name">æœªå»ºç«‹</span></p>
                    <p>ç­‰çº§: <span id="sect-level">0</span></p>
                </div>
                <div class="building-item">
                    <span class="name">ğŸ§˜ ä¿®ç‚¼å®¤ Lv.<span id="training-room-level">0</span></span>
                    <button class="btn btn-primary" onclick="doUpgradeBuilding('training')">å‡çº§</button>
                </div>
                <div class="building-item">
                    <span class="name">ğŸŒ¿ çµè¯å›­ Lv.<span id="herb-garden-level">0</span></span>
                    <button class="btn btn-primary" onclick="doUpgradeBuilding('herb')">å‡çº§</button>
                </div>
                <div class="building-item">
                    <span class="name">ğŸ”¨ ç‚¼å™¨å®¤ Lv.<span id="forge-level">0</span></span>
                    <button class="btn btn-primary" onclick="doUpgradeBuilding('forge')">å‡çº§</button>
                </div>
            </section>

            <section id="boss-panel" class="panel">
                <h2>ğŸ‘¹ ä¸–ç•ŒBOSS</h2>
                <div class="boss-timer"><p>ä¸‹æ¬¡BOSS: <span id="boss-timer">--:--:--</span></p></div>
                <div id="boss-display" class="boss-card" style="display:none;">
                    <div class="boss-icon">ğŸ‘¹</div>
                    <div class="boss-name" id="boss-name">BOSS</div>
                    <div class="boss-hp"><div class="hp-bar"><div id="boss-hp-bar" class="hp-fill"></div></div><p><span id="boss-hp-text">0 / 0</span></p></div>
                    <button class="btn btn-warning" onclick="doAttackBoss()">âš”ï¸ æ”»å‡»</button>
                </div>
                <div id="boss-reward" class="boss-reward" style="display:none;">
                    <h3>ğŸ‰ BOSSå·²è¢«å‡»æ€ï¼</h3><p>å¥–åŠ±: <span id="reward-amount">0</span> çµæ°”</p>
                </div>
            </section>

            <section id="shop-panel" class="panel">
                <h2>ğŸª å•†åº—</h2>
                <div class="shop-item"><span class="name">ğŸ’Š çµæ°”ä¸¹</span><button class="btn" onclick="doBuyItem('spiritPill')">100</button></div>
                <div class="shop-item"><span class="name">ğŸ çµæ ¹æœ</span><button class="btn" onclick="doBuyItem('rootFruit')">200</button></div>
                <div class="shop-item"><span class="name">âš—ï¸ çªç ´ä¸¹</span><button class="btn" onclick="doBuyItem('breakthroughPill')">500</button></div>
            </section>
        </main>

        <aside class="sidebar">
            <h3>ğŸ“Š è§’è‰²</h3>
            <div class="sect-info">
                <p>æˆ˜åŠ›: <span id="combat-power">0</span></p>
                <p>æ”»å‡»: <span id="attack">10</span></p>
                <p>é˜²å¾¡: <span id="defense">5</span></p>
                <p>ç”Ÿå‘½: <span id="hp">100</span></p>
            </div>
            <div style="margin-top:15px;">
                <button class="btn btn-primary" style="width:100%;font-size:0.8rem;padding:10px;" onclick="doSaveGame()">ğŸ’¾ ä¿å­˜</button>
            </div>
        </aside>
    </div>

    <script>
    function switchTab(tab) {
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
        document.querySelector('[data-tab="' + tab + '"]').classList.add('active');
        document.getElementById(tab + '-panel').classList.add('active');
    }

    function doCultivate() { if(game) game.cultivate(); }
    function doBreakthrough() { if(game) game.breakthrough(); }
    function doUpgradeRoot() { if(game) game.upgradeRoot(); }
    function doUpgradeEfficiency() { if(game) game.upgradeEfficiency(); }
    function doCraft() { if(game) game.craftArtifact(); }
    function doCatchPet() { if(game) game.catchPet(); }
    function doTrainPet() { if(game) game.trainPet(); }
    function doUpgradeBuilding(t) { if(game) game.upgradeBuilding(t); }
    function doAttackBoss() { if(game) game.attackBoss(); }
    function doBuyItem(i) { if(game) game.buyItem(i); }
    function doSaveGame() { if(game) game.saveGame(); }
    </script>
    <script src="js/game.js?v=4"></script>
</body>
</html>
